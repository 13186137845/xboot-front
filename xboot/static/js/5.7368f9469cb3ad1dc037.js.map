{"version":3,"sources":["webpack:///src/views/sys/role-manage/roleManage.vue","webpack:///./src/views/sys/role-manage/roleManage.vue?e50a","webpack:///./src/views/sys/role-manage/roleManage.vue"],"names":["roleManage","name","data","_this","this","loading","modalType","roleModalVisible","modalTitle","roleForm","access","roleFormValidate","required","message","trigger","submitLoading","selectList","selectCount","columns","type","width","align","title","key","sortable","render","h","params","row","defaultRole","props","size","style","marginRight","on","click","cancelDefault","setDefault","edit","remove","pageNumber","pageSize","total","methods","init","getRoleList","changePage","v","changePageSize","_this2","sort","getRequest","then","res","success","result","content","totalElements","cancelRole","submitRole","_this3","$refs","validate","valid","url","postRequest","$Message","addUser","attr","str","stringify_default","roleInfo","JSON","parse","_this4","$Modal","confirm","onOk","deleteRequest","ids","id","_this5","isDefault","_this6","clearSelectAll","table","selectAll","changeSelect","e","length","delAll","_this7","warning","forEach","substring","mounted","role_manage_roleManage","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","_v","show-icon","_s","ref","border","on-selection-change","justify","current","page-size","page-size-opts","show-total","show-elevator","show-sizer","on-change","on-page-size-change","mask-closable","model","value","callback","$$v","expression","label-width","rules","label","prop","placeholder","$set","max","min","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.7368f9469cb3ad1dc037.js","sourcesContent":["<style lang=\"less\">\r\n@import \"./roleManage.less\";\r\n</style>\r\n<template>\r\n    <div class=\"search\">\r\n        <Row>\r\n            <Col>\r\n                <Card>     \r\n                    <Row class=\"operation\">\r\n                        <Button @click=\"addUser\" type=\"primary\" icon=\"plus-round\">添加角色</Button>\r\n                        <Button @click=\"delAll\" type=\"ghost\" icon=\"trash-a\">批量删除</Button>\r\n                        <Button @click=\"getRoleList\" type=\"ghost\" icon=\"refresh\">刷新</Button>\r\n                    </Row>\r\n                     <Row>\r\n                        <Alert show-icon>\r\n                            已选择 <span class=\"select-count\">{{selectCount}}</span> 项\r\n                            <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n                        </Alert>\r\n                    </Row>\r\n                    <Row class=\"margin-top-10 searchable-table-con1\">\r\n                        <Table :loading=\"loading\" border :columns=\"columns\" :data=\"data\" ref=\"table\" @on-selection-change=\"changeSelect\"></Table>\r\n                    </Row>\r\n                    <Row type=\"flex\" justify=\"end\" class=\"code-row-bg page\">\r\n                        <Page :current=\"this.pageNumber\" :total=\"total\" :page-size=\"this.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[10,20,50,100]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n                    </Row>\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n        <Modal :title=\"modalTitle\" v-model=\"roleModalVisible\" :mask-closable='false' :width=\"500\">\r\n            <Form ref=\"roleForm\" :model=\"roleForm\" :label-width=\"80\" :rules=\"roleFormValidate\">\r\n                <FormItem label=\"角色名称\" prop=\"name\">\r\n                  <Input v-model=\"roleForm.name\" placeholder=\"按照Spring Security约定请以‘ROLE_’开头\"/>\r\n                </FormItem>\r\n                <FormItem label=\"对应权限值\" prop=\"access\">\r\n                  <InputNumber :max=\"1000\" :min=\"-1000\" v-model=\"roleForm.access\"></InputNumber>\r\n                </FormItem>\r\n            </Form>\r\n            <div slot=\"footer\">\r\n                <Button type=\"text\" @click=\"cancelRole\">取消</Button>\r\n                <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitRole\">提交</Button>\r\n            </div>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"role-manage\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      modalType: 0,\r\n      roleModalVisible: false,\r\n      modalTitle: \"\",\r\n      roleForm: {\r\n        name: \"\",\r\n        access: null\r\n      },\r\n      roleFormValidate: {\r\n        name: [{ required: true, message: \"角色名称不能为空\", trigger: \"blur\" }]\r\n      },\r\n      submitLoading: false,\r\n      selectList: [],\r\n      selectCount: 0,\r\n      columns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"角色名称\",\r\n          key: \"name\",\r\n          sortable: true\r\n        },\r\n        {\r\n          title: \"对应权限值\",\r\n          key: \"access\",\r\n          sortable: true\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          sortable: true\r\n        },\r\n        {\r\n          title: \"更新时间\",\r\n          key: \"updateTime\",\r\n          sortable: true\r\n        },\r\n        {\r\n          title: \"是否设置为注册用户默认角色\",\r\n          key: \"defaultRole\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            if (params.row.defaultRole) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"success\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.cancelDefault(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"取消默认\"\r\n                )\r\n              ]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"info\",\r\n                      size: \"small\"\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\"\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.setDefault(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"设为默认\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 200,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"primary\",\r\n                    size: \"small\"\r\n                  },\r\n                  style: {\r\n                    marginRight: \"5px\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.edit(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"编辑\"\r\n              ),\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"error\",\r\n                    size: \"small\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.remove(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"删除\"\r\n              )\r\n            ]);\r\n          }\r\n        }\r\n      ],\r\n      data: [],\r\n      pageNumber: 1,\r\n      pageSize: 10,\r\n      total: 0\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getRoleList();\r\n    },\r\n    changePage(v) {\r\n      this.pageNumber = v;\r\n      this.getRoleList();\r\n    },\r\n    changePageSize(v) {\r\n      this.pageSize = v;\r\n      this.getRoleList();\r\n    },\r\n    getRoleList() {\r\n      this.loading = true;\r\n      let params = {\r\n        pageNumber: this.pageNumber,\r\n        pageSize: this.pageSize,\r\n        sort: \"createTime\"\r\n      };\r\n      this.getRequest(\"/role/getAllByPage\", params).then(res => {\r\n        this.loading = false;\r\n        if (res.success === true) {\r\n          this.data = res.result.content;\r\n          this.total = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    cancelRole() {\r\n      this.roleModalVisible = false;\r\n    },\r\n    submitRole() {\r\n      this.$refs.roleForm.validate(valid => {\r\n        if (valid) {\r\n          let url = \"/role/add\";\r\n          if (this.modalType === 1) {\r\n            // 编辑用户\r\n            url = \"/role/edit\";\r\n          }\r\n          this.submitLoading = true;\r\n          this.postRequest(url, this.roleForm).then(res => {\r\n            this.submitLoading = false;\r\n            if (res.success === true) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.init();\r\n              this.roleModalVisible = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    addUser() {\r\n      this.modalType = 0;\r\n      this.modalTitle = \"添加角色\";\r\n      this.roleForm = {\r\n        name: \"\",\r\n        access: null\r\n      };\r\n      this.roleModalVisible = true;\r\n    },\r\n    edit(v) {\r\n      this.modalType = 1;\r\n      this.modalTitle = \"编辑角色\";\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] === null) {\r\n          v[attr] = \"\";\r\n        }\r\n      }\r\n      let str = JSON.stringify(v);\r\n      let roleInfo = JSON.parse(str);\r\n      this.roleForm = roleInfo;\r\n      this.roleModalVisible = true;\r\n    },\r\n    remove(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除角色 \" + v.name + \" ?\",\r\n        onOk: () => {\r\n          this.deleteRequest(\"/role/delAllByIds\", { ids: v.id }).then(res => {\r\n            if (res.success === true) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.init();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    setDefault(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认设置\",\r\n        content: \"您确认要设置所选的 \" + v.name + \" 为注册用户默认角色?\",\r\n        onOk: () => {\r\n          let params = {\r\n            id: v.id,\r\n            isDefault: true\r\n          };\r\n          this.postRequest(\"/role/setDefault\", params).then(res => {\r\n            if (res.success === true) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.init();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    cancelDefault(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认取消\",\r\n        content: \"您确认要取消所选的 \" + v.name + \" 角色为默认?\",\r\n        onOk: () => {\r\n          let params = {\r\n            id: v.id,\r\n            isDefault: false\r\n          };\r\n          this.postRequest(\"/role/setDefault\", params).then(res => {\r\n            if (res.success === true) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.init();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    changeSelect(e) {\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    delAll() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.deleteRequest(\"/role/delAllByIds\", { ids: ids }).then(res => {\r\n            if (res.success === true) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.init();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/sys/role-manage/roleManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('Row',[_c('Col',[_c('Card',[_c('Row',{staticClass:\"operation\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"plus-round\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加角色\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"trash-a\"},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"refresh\"},on:{\"click\":_vm.getRoleList}},[_vm._v(\"刷新\")])],1),_vm._v(\" \"),_c('Row',[_c('Alert',{attrs:{\"show-icon\":\"\"}},[_vm._v(\"\\n                        已选择 \"),_c('span',{staticClass:\"select-count\"},[_vm._v(_vm._s(_vm.selectCount))]),_vm._v(\" 项\\n                        \"),_c('a',{staticClass:\"select-clear\",on:{\"click\":_vm.clearSelectAll}},[_vm._v(\"清空\")])])],1),_vm._v(\" \"),_c('Row',{staticClass:\"margin-top-10 searchable-table-con1\"},[_c('Table',{ref:\"table\",attrs:{\"loading\":_vm.loading,\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.data},on:{\"on-selection-change\":_vm.changeSelect}})],1),_vm._v(\" \"),_c('Row',{staticClass:\"code-row-bg page\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Page',{attrs:{\"current\":this.pageNumber,\"total\":_vm.total,\"page-size\":this.pageSize,\"page-size-opts\":[10,20,50,100],\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.modalTitle,\"mask-closable\":false,\"width\":500},model:{value:(_vm.roleModalVisible),callback:function ($$v) {_vm.roleModalVisible=$$v},expression:\"roleModalVisible\"}},[_c('Form',{ref:\"roleForm\",attrs:{\"model\":_vm.roleForm,\"label-width\":80,\"rules\":_vm.roleFormValidate}},[_c('FormItem',{attrs:{\"label\":\"角色名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"按照Spring Security约定请以‘ROLE_’开头\"},model:{value:(_vm.roleForm.name),callback:function ($$v) {_vm.$set(_vm.roleForm, \"name\", $$v)},expression:\"roleForm.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"对应权限值\",\"prop\":\"access\"}},[_c('InputNumber',{attrs:{\"max\":1000,\"min\":-1000},model:{value:(_vm.roleForm.access),callback:function ($$v) {_vm.$set(_vm.roleForm, \"access\", $$v)},expression:\"roleForm.access\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelRole}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.submitRole}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-d9c4e93e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/sys/role-manage/roleManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d9c4e93e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./roleManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./roleManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./roleManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d9c4e93e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./roleManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sys/role-manage/roleManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}