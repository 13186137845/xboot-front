{"version":3,"sources":["webpack:///src/views/sys/menu-manage/menuManage.vue","webpack:///./src/views/sys/menu-manage/menuManage.vue?c3d1","webpack:///./src/views/sys/menu-manage/menuManage.vue"],"names":["menuManage","name","data","loading","modalType","menuModalVisible","selectList","selectCount","menuForm","parent","access","parentId","component","menuFormAdd","isChild","isChildAdd","errorParent","errorParentAdd","menuFormValidate","required","message","trigger","title","icon","path","submitLoading","methods","init","this","getMenuList","_this","getRequest","then","res","success","result","forEach","e","expand","selectTree","v","length","attr","str","stringify_default","menu","JSON","parse","changeParent","changeParentAdd","cancelAdd","handleReset","$refs","resetFields","submitEdit","_this2","validate","valid","undefined","id","$Message","warning","postRequest","submitAdd","_this3","addMenu","changeSelect","delAll","_this4","$Modal","confirm","content","onOk","ids","substring","deleteRequest","mounted","menu_manage_menuManage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","on","click","_v","justify","span","show-checkbox","on-check-change","on-select-change","size","fix","_e","ref","model","label-width","rules","label","prop","readonly","value","callback","$$v","$set","expression","staticStyle","margin-bottom","target","href","on-change","slot","error","max","min","margin-left","mask-closable","width","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.e5a050caa73bd0c26467.js","sourcesContent":["<style lang=\"less\">\r\n@import \"./menuManage.less\";\r\n</style>\r\n<template>\r\n    <div class=\"search\">\r\n        <Card>\r\n          <Row class=\"operation\">\r\n            <Button @click=\"addMenu\" type=\"primary\" icon=\"plus-round\">添加菜单</Button>\r\n            <Button @click=\"delAll\" type=\"ghost\" icon=\"trash-a\">批量删除</Button>\r\n            <Button @click=\"getMenuList\" type=\"ghost\" icon=\"refresh\">刷新</Button>\r\n          </Row>\r\n          <Row type=\"flex\" justify=\"start\" class=\"code-row-bg\">\r\n            <Col span=\"6\">\r\n              <Tree :data=\"data\" show-checkbox @on-check-change=\"changeSelect\" @on-select-change=\"selectTree\"></Tree>\r\n              <Spin size=\"large\" fix v-if=\"loading\"></Spin>\r\n            </Col>\r\n            <Col span=\"9\">\r\n              <Form ref=\"menuForm\" :model=\"menuForm\" :label-width=\"80\" :rules=\"menuFormValidate\">\r\n                <FormItem label=\"菜单ID\" prop=\"id\">\r\n                    <Input v-model=\"menuForm.id\" readonly />\r\n                </FormItem>\r\n                <FormItem label=\"菜单名称\" prop=\"name\">\r\n                    <Input v-model=\"menuForm.name\"/>\r\n                </FormItem>\r\n                <FormItem label=\"标题\" prop=\"title\">\r\n                    <Input v-model=\"menuForm.title\"/>\r\n                </FormItem>\r\n                <FormItem label=\"图标\" prop=\"icon\"  style=\"margin-bottom: 5px;\">\r\n                    <Input v-model=\"menuForm.icon\"/>\r\n                    <span>\r\n                      图标请参考 <a target=\"_blank\" href=\"http://ionicons.com/\"><Icon type=\"ionic\"></Icon> ionicons</a>\r\n                    </span>\r\n                </FormItem>\r\n                <FormItem label=\"路径\" prop=\"path\">\r\n                    <Input v-model=\"menuForm.path\"/>\r\n                </FormItem>\r\n                <FormItem label=\"前端组件\" prop=\"component\">\r\n                    <Input v-model=\"menuForm.component\"/>\r\n                </FormItem>\r\n                <FormItem label=\"一级菜单\" prop=\"parent\" >\r\n                  <i-switch v-model=\"menuForm.parent\" size=\"large\" @on-change=\"changeParent\">\r\n                    <span slot=\"open\">是</span>\r\n                    <span slot=\"close\">否</span>\r\n                  </i-switch>\r\n                </FormItem>\r\n                <FormItem label=\"父级菜单ID\" prop=\"parentId\" v-if=\"isChild\" :error=\"errorParent\">\r\n                    <Input v-model=\"menuForm.parentId\"/>\r\n                </FormItem>\r\n                <FormItem label=\"所需权限值\" prop=\"access\">\r\n                  <InputNumber :max=\"1000\" :min=\"-1000\" v-model=\"menuForm.access\"></InputNumber>\r\n                  <span style=\"margin-left:5px\">不填则始终显示</span>\r\n                </FormItem>\r\n                <Form-item>\r\n                  <Button @click=\"submitEdit\" :loading=\"submitLoading\" type=\"primary\" icon=\"compose\">修改</Button>\r\n                  <Button @click=\"handleReset\" type=\"ghost\" >重置</Button>\r\n                </Form-item>\r\n              </Form>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n\r\n        <Modal title=\"添加菜单\" v-model=\"menuModalVisible\" :mask-closable='false' :width=\"500\">\r\n            <Form ref=\"menuFormAdd\" :model=\"menuFormAdd\" :label-width=\"80\" :rules=\"menuFormValidate\">\r\n                <FormItem label=\"菜单名称\" prop=\"name\">\r\n                    <Input v-model=\"menuFormAdd.name\"/>\r\n                </FormItem>\r\n                <FormItem label=\"标题\" prop=\"title\">\r\n                    <Input v-model=\"menuFormAdd.title\"/>\r\n                </FormItem>\r\n                <FormItem label=\"图标\" prop=\"icon\"  style=\"margin-bottom: 5px;\">\r\n                    <Input v-model=\"menuFormAdd.icon\"/>\r\n                    <span>\r\n                      图标请参考 <a target=\"_blank\" href=\"http://ionicons.com/\"><Icon type=\"ionic\"></Icon> ionicons</a>\r\n                    </span>\r\n                </FormItem>\r\n                <FormItem label=\"路径\" prop=\"path\">\r\n                    <Input v-model=\"menuFormAdd.path\"/>\r\n                </FormItem>\r\n                <FormItem label=\"前端组件\" prop=\"component\">\r\n                    <Input v-model=\"menuFormAdd.component\"/>\r\n                </FormItem>\r\n                <FormItem label=\"一级菜单\" prop=\"parent\" >\r\n                  <i-switch v-model=\"menuFormAdd.parent\" size=\"large\" @on-change=\"changeParentAdd\">\r\n                    <span slot=\"open\">是</span>\r\n                    <span slot=\"close\">否</span>\r\n                  </i-switch>\r\n                </FormItem>\r\n                <FormItem label=\"父级菜单ID\" prop=\"parentId\" v-if=\"isChildAdd\" :error=\"errorParentAdd\">\r\n                    <Input v-model=\"menuFormAdd.parentId\"/>\r\n                </FormItem>\r\n                <FormItem label=\"所需权限值\" prop=\"access\">\r\n                  <InputNumber :max=\"1000\" :min=\"-1000\" v-model=\"menuFormAdd.access\"></InputNumber>\r\n                  <span style=\"margin-left:5px\">不填则始终显示</span>\r\n                </FormItem>\r\n              </Form>\r\n            <div slot=\"footer\">\r\n                <Button type=\"text\" @click=\"cancelAdd\">取消</Button>\r\n                <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitAdd\">提交</Button>\r\n            </div>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"role-manage\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      modalType: 0,\r\n      menuModalVisible: false,\r\n      selectList: [],\r\n      selectCount: 0,\r\n      menuForm: {\r\n        name: \"\",\r\n        parent: false,\r\n        access: null,\r\n        parentId: \"\",\r\n        component: \"\"\r\n      },\r\n      menuFormAdd: {\r\n        name: \"\",\r\n        parent: false,\r\n        access: null,\r\n        parentId: \"\",\r\n        component: \"\"\r\n      },\r\n      isChild: true,\r\n      isChildAdd: true,\r\n      errorParent: \"\",\r\n      errorParentAdd: \"\",\r\n      menuFormValidate: {\r\n        name: [\r\n          { required: true, message: \"菜单名称不能为空\", trigger: \"blur\" }\r\n        ],\r\n        title: [{ required: true, message: \"标题不能为空\", trigger: \"blur\" }],\r\n        icon: [{ required: true, message: \"图标不能为空\", trigger: \"blur\" }],\r\n        path: [{ required: true, message: \"路径不能为空\", trigger: \"blur\" }],\r\n        component: [\r\n          { required: true, message: \"前端组件不能为空\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      submitLoading: false,\r\n      data: []\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getMenuList();\r\n    },\r\n    getMenuList() {\r\n      this.loading = true;\r\n      this.getRequest(\"/menu/getAllList\").then(res => {\r\n        this.loading = false;\r\n        if (res.success === true) {\r\n          res.result.forEach(function(e) {\r\n            e.expand = true;\r\n          });\r\n          this.data = res.result;\r\n        }\r\n      });\r\n    },\r\n    selectTree(v) {\r\n      if (v.length > 0) {\r\n        // 转换null为\"\"\r\n        for (let attr in v[0]) {\r\n          if (v[0][attr] === null) {\r\n            v[0][attr] = \"\";\r\n          }\r\n        }\r\n        let str = JSON.stringify(v[0]);\r\n        let menu = JSON.parse(str);\r\n        if (menu.access === \"\") {\r\n          menu.access = null;\r\n        }\r\n        this.menuForm = menu;\r\n        this.changeParent();\r\n      }\r\n    },\r\n    changeParent() {\r\n      if (this.menuForm.parent) {\r\n        this.isChild = false;\r\n      } else {\r\n        this.isChild = true;\r\n      }\r\n    },\r\n    changeParentAdd() {\r\n      if (this.menuFormAdd.parent) {\r\n        this.isChildAdd = false;\r\n      } else {\r\n        this.isChildAdd = true;\r\n      }\r\n    },\r\n    cancelAdd() {\r\n      this.menuModalVisible = false;\r\n    },\r\n    handleReset() {\r\n      this.$refs.menuForm.resetFields();\r\n    },\r\n    submitEdit() {\r\n      this.$refs.menuForm.validate(valid => {\r\n        if (valid) {\r\n          if (this.isChild && this.menuForm.parentId === \"\") {\r\n            this.errorParent = \"不能为空\";\r\n            return;\r\n          } else {\r\n            this.errorParent = \"\";\r\n          }\r\n          if (\r\n            this.menuForm.id === undefined ||\r\n            this.menuForm.id === \"\" ||\r\n            this.menuForm.id === null\r\n          ) {\r\n            this.$Message.warning(\"请先点击选择要修改的菜单节点\");\r\n            return;\r\n          }\r\n          this.submitLoading = true;\r\n          if (this.menuForm.access === null) {\r\n            this.menuForm.access = \"\";\r\n          }\r\n          this.postRequest(\"/menu/edit\", this.menuForm).then(res => {\r\n            this.submitLoading = false;\r\n            if (res.success === true) {\r\n              this.$Message.success(\"编辑成功\");\r\n              this.init();\r\n              this.menuModalVisible = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    submitAdd() {\r\n      this.$refs.menuFormAdd.validate(valid => {\r\n        if (valid) {\r\n          if (this.isChildAdd && this.menuFormAdd.parentId === \"\") {\r\n            this.errorParentAdd = \"不能为空\";\r\n            return;\r\n          } else {\r\n            this.errorParentAdd = \"\";\r\n          }\r\n          this.submitLoading = true;\r\n          if (this.menuFormAdd.access === null) {\r\n            this.menuFormAdd.access = \"\";\r\n          }\r\n          this.postRequest(\"/menu/add\", this.menuFormAdd).then(res => {\r\n            this.submitLoading = false;\r\n            if (res.success === true) {\r\n              this.$Message.success(\"添加成功\");\r\n              this.init();\r\n              this.menuModalVisible = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    addMenu() {\r\n      this.menuFormAdd = {\r\n        name: \"\",\r\n        parent: false,\r\n        access: null,\r\n        parentId: \"\",\r\n        component: \"\"\r\n      };\r\n      this.changeParentAdd();\r\n      this.menuModalVisible = true;\r\n    },\r\n    changeSelect(v) {\r\n      this.selectCount = v.length;\r\n      this.selectList = v;\r\n    },\r\n    delAll() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          this.deleteRequest(\"/menu/delByIds\", { ids: ids }).then(res => {\r\n            if (res.success === true) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.init();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/sys/menu-manage/menuManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('Card',[_c('Row',{staticClass:\"operation\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"plus-round\"},on:{\"click\":_vm.addMenu}},[_vm._v(\"添加菜单\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"trash-a\"},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\",\"icon\":\"refresh\"},on:{\"click\":_vm.getMenuList}},[_vm._v(\"刷新\")])],1),_vm._v(\" \"),_c('Row',{staticClass:\"code-row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"start\"}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Tree',{attrs:{\"data\":_vm.data,\"show-checkbox\":\"\"},on:{\"on-check-change\":_vm.changeSelect,\"on-select-change\":_vm.selectTree}}),_vm._v(\" \"),(_vm.loading)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"9\"}},[_c('Form',{ref:\"menuForm\",attrs:{\"model\":_vm.menuForm,\"label-width\":80,\"rules\":_vm.menuFormValidate}},[_c('FormItem',{attrs:{\"label\":\"菜单ID\",\"prop\":\"id\"}},[_c('Input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.menuForm.id),callback:function ($$v) {_vm.$set(_vm.menuForm, \"id\", $$v)},expression:\"menuForm.id\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"菜单名称\",\"prop\":\"name\"}},[_c('Input',{model:{value:(_vm.menuForm.name),callback:function ($$v) {_vm.$set(_vm.menuForm, \"name\", $$v)},expression:\"menuForm.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{model:{value:(_vm.menuForm.title),callback:function ($$v) {_vm.$set(_vm.menuForm, \"title\", $$v)},expression:\"menuForm.title\"}})],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"label\":\"图标\",\"prop\":\"icon\"}},[_c('Input',{model:{value:(_vm.menuForm.icon),callback:function ($$v) {_vm.$set(_vm.menuForm, \"icon\", $$v)},expression:\"menuForm.icon\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n                  图标请参考 \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"http://ionicons.com/\"}},[_c('Icon',{attrs:{\"type\":\"ionic\"}}),_vm._v(\" ionicons\")],1)])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}},[_c('Input',{model:{value:(_vm.menuForm.path),callback:function ($$v) {_vm.$set(_vm.menuForm, \"path\", $$v)},expression:\"menuForm.path\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"前端组件\",\"prop\":\"component\"}},[_c('Input',{model:{value:(_vm.menuForm.component),callback:function ($$v) {_vm.$set(_vm.menuForm, \"component\", $$v)},expression:\"menuForm.component\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"一级菜单\",\"prop\":\"parent\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},on:{\"on-change\":_vm.changeParent},model:{value:(_vm.menuForm.parent),callback:function ($$v) {_vm.$set(_vm.menuForm, \"parent\", $$v)},expression:\"menuForm.parent\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),(_vm.isChild)?_c('FormItem',{attrs:{\"label\":\"父级菜单ID\",\"prop\":\"parentId\",\"error\":_vm.errorParent}},[_c('Input',{model:{value:(_vm.menuForm.parentId),callback:function ($$v) {_vm.$set(_vm.menuForm, \"parentId\", $$v)},expression:\"menuForm.parentId\"}})],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"所需权限值\",\"prop\":\"access\"}},[_c('InputNumber',{attrs:{\"max\":1000,\"min\":-1000},model:{value:(_vm.menuForm.access),callback:function ($$v) {_vm.$set(_vm.menuForm, \"access\", $$v)},expression:\"menuForm.access\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"不填则始终显示\")])],1),_vm._v(\" \"),_c('Form-item',[_c('Button',{attrs:{\"loading\":_vm.submitLoading,\"type\":\"primary\",\"icon\":\"compose\"},on:{\"click\":_vm.submitEdit}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"添加菜单\",\"mask-closable\":false,\"width\":500},model:{value:(_vm.menuModalVisible),callback:function ($$v) {_vm.menuModalVisible=$$v},expression:\"menuModalVisible\"}},[_c('Form',{ref:\"menuFormAdd\",attrs:{\"model\":_vm.menuFormAdd,\"label-width\":80,\"rules\":_vm.menuFormValidate}},[_c('FormItem',{attrs:{\"label\":\"菜单名称\",\"prop\":\"name\"}},[_c('Input',{model:{value:(_vm.menuFormAdd.name),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"name\", $$v)},expression:\"menuFormAdd.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{model:{value:(_vm.menuFormAdd.title),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"title\", $$v)},expression:\"menuFormAdd.title\"}})],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"label\":\"图标\",\"prop\":\"icon\"}},[_c('Input',{model:{value:(_vm.menuFormAdd.icon),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"icon\", $$v)},expression:\"menuFormAdd.icon\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n                  图标请参考 \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"http://ionicons.com/\"}},[_c('Icon',{attrs:{\"type\":\"ionic\"}}),_vm._v(\" ionicons\")],1)])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}},[_c('Input',{model:{value:(_vm.menuFormAdd.path),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"path\", $$v)},expression:\"menuFormAdd.path\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"前端组件\",\"prop\":\"component\"}},[_c('Input',{model:{value:(_vm.menuFormAdd.component),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"component\", $$v)},expression:\"menuFormAdd.component\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"一级菜单\",\"prop\":\"parent\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},on:{\"on-change\":_vm.changeParentAdd},model:{value:(_vm.menuFormAdd.parent),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"parent\", $$v)},expression:\"menuFormAdd.parent\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),(_vm.isChildAdd)?_c('FormItem',{attrs:{\"label\":\"父级菜单ID\",\"prop\":\"parentId\",\"error\":_vm.errorParentAdd}},[_c('Input',{model:{value:(_vm.menuFormAdd.parentId),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"parentId\", $$v)},expression:\"menuFormAdd.parentId\"}})],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"所需权限值\",\"prop\":\"access\"}},[_c('InputNumber',{attrs:{\"max\":1000,\"min\":-1000},model:{value:(_vm.menuFormAdd.access),callback:function ($$v) {_vm.$set(_vm.menuFormAdd, \"access\", $$v)},expression:\"menuFormAdd.access\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"不填则始终显示\")])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.cancelAdd}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.submitAdd}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-f5cb570a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/sys/menu-manage/menuManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f5cb570a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./menuManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./menuManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./menuManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5cb570a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./menuManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sys/menu-manage/menuManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}